<!DOCTYPE html>
<!-- saved from url=(0014)about:internet -->
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta http-equiv="x-ua-compatible" content="IE=9" >

<title>Exploring Overlap</title>

<style type="text/css">
body, td {
   font-family: sans-serif;
   background-color: white;
   font-size: 12px;
   margin: 8px;
}

tt, code, pre {
   font-family: 'DejaVu Sans Mono', 'Droid Sans Mono', 'Lucida Console', Consolas, Monaco, monospace;
}

h1 { 
   font-size:2.2em; 
}

h2 { 
   font-size:1.8em; 
}

h3 { 
   font-size:1.4em; 
}

h4 { 
   font-size:1.0em; 
}

h5 { 
   font-size:0.9em; 
}

h6 { 
   font-size:0.8em; 
}

a:visited {
   color: rgb(50%, 0%, 50%);
}

pre {	
   margin-top: 0;
   max-width: 95%;
   border: 1px solid #ccc;
   white-space: pre-wrap;
}

pre code {
   display: block; padding: 0.5em;
}

code.r, code.cpp {
   background-color: #F8F8F8;
}

table, td, th {
  border: none;
}

blockquote {
   color:#666666;
   margin:0;
   padding-left: 1em;
   border-left: 0.5em #EEE solid;
}

hr {
   height: 0px;
   border-bottom: none;
   border-top-width: thin;
   border-top-style: dotted;
   border-top-color: #999999;
}

@media print {
   * { 
      background: transparent !important; 
      color: black !important; 
      filter:none !important; 
      -ms-filter: none !important; 
   }

   body { 
      font-size:12pt; 
      max-width:100%; 
   }
       
   a, a:visited { 
      text-decoration: underline; 
   }

   hr { 
      visibility: hidden;
      page-break-before: always;
   }

   pre, blockquote { 
      padding-right: 1em; 
      page-break-inside: avoid; 
   }

   tr, img { 
      page-break-inside: avoid; 
   }

   img { 
      max-width: 100% !important; 
   }

   @page :left { 
      margin: 15mm 20mm 15mm 10mm; 
   }
     
   @page :right { 
      margin: 15mm 10mm 15mm 20mm; 
   }

   p, h2, h3 { 
      orphans: 3; widows: 3; 
   }

   h2, h3 { 
      page-break-after: avoid; 
   }
}

</style>

<!-- Styles for R syntax highlighter -->
<style type="text/css">
   pre .operator,
   pre .paren {
     color: rgb(104, 118, 135)
   }

   pre .literal {
     color: rgb(88, 72, 246)
   }

   pre .number {
     color: rgb(0, 0, 205);
   }

   pre .comment {
     color: rgb(76, 136, 107);
   }

   pre .keyword {
     color: rgb(0, 0, 255);
   }

   pre .identifier {
     color: rgb(0, 0, 0);
   }

   pre .string {
     color: rgb(3, 106, 7);
   }
</style>

<!-- R syntax highlighter -->
<script type="text/javascript">
var hljs=new function(){function m(p){return p.replace(/&/gm,"&amp;").replace(/</gm,"&lt;")}function f(r,q,p){return RegExp(q,"m"+(r.cI?"i":"")+(p?"g":""))}function b(r){for(var p=0;p<r.childNodes.length;p++){var q=r.childNodes[p];if(q.nodeName=="CODE"){return q}if(!(q.nodeType==3&&q.nodeValue.match(/\s+/))){break}}}function h(t,s){var p="";for(var r=0;r<t.childNodes.length;r++){if(t.childNodes[r].nodeType==3){var q=t.childNodes[r].nodeValue;if(s){q=q.replace(/\n/g,"")}p+=q}else{if(t.childNodes[r].nodeName=="BR"){p+="\n"}else{p+=h(t.childNodes[r])}}}if(/MSIE [678]/.test(navigator.userAgent)){p=p.replace(/\r/g,"\n")}return p}function a(s){var r=s.className.split(/\s+/);r=r.concat(s.parentNode.className.split(/\s+/));for(var q=0;q<r.length;q++){var p=r[q].replace(/^language-/,"");if(e[p]){return p}}}function c(q){var p=[];(function(s,t){for(var r=0;r<s.childNodes.length;r++){if(s.childNodes[r].nodeType==3){t+=s.childNodes[r].nodeValue.length}else{if(s.childNodes[r].nodeName=="BR"){t+=1}else{if(s.childNodes[r].nodeType==1){p.push({event:"start",offset:t,node:s.childNodes[r]});t=arguments.callee(s.childNodes[r],t);p.push({event:"stop",offset:t,node:s.childNodes[r]})}}}}return t})(q,0);return p}function k(y,w,x){var q=0;var z="";var s=[];function u(){if(y.length&&w.length){if(y[0].offset!=w[0].offset){return(y[0].offset<w[0].offset)?y:w}else{return w[0].event=="start"?y:w}}else{return y.length?y:w}}function t(D){var A="<"+D.nodeName.toLowerCase();for(var B=0;B<D.attributes.length;B++){var C=D.attributes[B];A+=" "+C.nodeName.toLowerCase();if(C.value!==undefined&&C.value!==false&&C.value!==null){A+='="'+m(C.value)+'"'}}return A+">"}while(y.length||w.length){var v=u().splice(0,1)[0];z+=m(x.substr(q,v.offset-q));q=v.offset;if(v.event=="start"){z+=t(v.node);s.push(v.node)}else{if(v.event=="stop"){var p,r=s.length;do{r--;p=s[r];z+=("</"+p.nodeName.toLowerCase()+">")}while(p!=v.node);s.splice(r,1);while(r<s.length){z+=t(s[r]);r++}}}}return z+m(x.substr(q))}function j(){function q(x,y,v){if(x.compiled){return}var u;var s=[];if(x.k){x.lR=f(y,x.l||hljs.IR,true);for(var w in x.k){if(!x.k.hasOwnProperty(w)){continue}if(x.k[w] instanceof Object){u=x.k[w]}else{u=x.k;w="keyword"}for(var r in u){if(!u.hasOwnProperty(r)){continue}x.k[r]=[w,u[r]];s.push(r)}}}if(!v){if(x.bWK){x.b="\\b("+s.join("|")+")\\s"}x.bR=f(y,x.b?x.b:"\\B|\\b");if(!x.e&&!x.eW){x.e="\\B|\\b"}if(x.e){x.eR=f(y,x.e)}}if(x.i){x.iR=f(y,x.i)}if(x.r===undefined){x.r=1}if(!x.c){x.c=[]}x.compiled=true;for(var t=0;t<x.c.length;t++){if(x.c[t]=="self"){x.c[t]=x}q(x.c[t],y,false)}if(x.starts){q(x.starts,y,false)}}for(var p in e){if(!e.hasOwnProperty(p)){continue}q(e[p].dM,e[p],true)}}function d(B,C){if(!j.called){j();j.called=true}function q(r,M){for(var L=0;L<M.c.length;L++){if((M.c[L].bR.exec(r)||[null])[0]==r){return M.c[L]}}}function v(L,r){if(D[L].e&&D[L].eR.test(r)){return 1}if(D[L].eW){var M=v(L-1,r);return M?M+1:0}return 0}function w(r,L){return L.i&&L.iR.test(r)}function K(N,O){var M=[];for(var L=0;L<N.c.length;L++){M.push(N.c[L].b)}var r=D.length-1;do{if(D[r].e){M.push(D[r].e)}r--}while(D[r+1].eW);if(N.i){M.push(N.i)}return f(O,M.join("|"),true)}function p(M,L){var N=D[D.length-1];if(!N.t){N.t=K(N,E)}N.t.lastIndex=L;var r=N.t.exec(M);return r?[M.substr(L,r.index-L),r[0],false]:[M.substr(L),"",true]}function z(N,r){var L=E.cI?r[0].toLowerCase():r[0];var M=N.k[L];if(M&&M instanceof Array){return M}return false}function F(L,P){L=m(L);if(!P.k){return L}var r="";var O=0;P.lR.lastIndex=0;var M=P.lR.exec(L);while(M){r+=L.substr(O,M.index-O);var N=z(P,M);if(N){x+=N[1];r+='<span class="'+N[0]+'">'+M[0]+"</span>"}else{r+=M[0]}O=P.lR.lastIndex;M=P.lR.exec(L)}return r+L.substr(O,L.length-O)}function J(L,M){if(M.sL&&e[M.sL]){var r=d(M.sL,L);x+=r.keyword_count;return r.value}else{return F(L,M)}}function I(M,r){var L=M.cN?'<span class="'+M.cN+'">':"";if(M.rB){y+=L;M.buffer=""}else{if(M.eB){y+=m(r)+L;M.buffer=""}else{y+=L;M.buffer=r}}D.push(M);A+=M.r}function G(N,M,Q){var R=D[D.length-1];if(Q){y+=J(R.buffer+N,R);return false}var P=q(M,R);if(P){y+=J(R.buffer+N,R);I(P,M);return P.rB}var L=v(D.length-1,M);if(L){var O=R.cN?"</span>":"";if(R.rE){y+=J(R.buffer+N,R)+O}else{if(R.eE){y+=J(R.buffer+N,R)+O+m(M)}else{y+=J(R.buffer+N+M,R)+O}}while(L>1){O=D[D.length-2].cN?"</span>":"";y+=O;L--;D.length--}var r=D[D.length-1];D.length--;D[D.length-1].buffer="";if(r.starts){I(r.starts,"")}return R.rE}if(w(M,R)){throw"Illegal"}}var E=e[B];var D=[E.dM];var A=0;var x=0;var y="";try{var s,u=0;E.dM.buffer="";do{s=p(C,u);var t=G(s[0],s[1],s[2]);u+=s[0].length;if(!t){u+=s[1].length}}while(!s[2]);if(D.length>1){throw"Illegal"}return{r:A,keyword_count:x,value:y}}catch(H){if(H=="Illegal"){return{r:0,keyword_count:0,value:m(C)}}else{throw H}}}function g(t){var p={keyword_count:0,r:0,value:m(t)};var r=p;for(var q in e){if(!e.hasOwnProperty(q)){continue}var s=d(q,t);s.language=q;if(s.keyword_count+s.r>r.keyword_count+r.r){r=s}if(s.keyword_count+s.r>p.keyword_count+p.r){r=p;p=s}}if(r.language){p.second_best=r}return p}function i(r,q,p){if(q){r=r.replace(/^((<[^>]+>|\t)+)/gm,function(t,w,v,u){return w.replace(/\t/g,q)})}if(p){r=r.replace(/\n/g,"<br>")}return r}function n(t,w,r){var x=h(t,r);var v=a(t);var y,s;if(v){y=d(v,x)}else{return}var q=c(t);if(q.length){s=document.createElement("pre");s.innerHTML=y.value;y.value=k(q,c(s),x)}y.value=i(y.value,w,r);var u=t.className;if(!u.match("(\\s|^)(language-)?"+v+"(\\s|$)")){u=u?(u+" "+v):v}if(/MSIE [678]/.test(navigator.userAgent)&&t.tagName=="CODE"&&t.parentNode.tagName=="PRE"){s=t.parentNode;var p=document.createElement("div");p.innerHTML="<pre><code>"+y.value+"</code></pre>";t=p.firstChild.firstChild;p.firstChild.cN=s.cN;s.parentNode.replaceChild(p.firstChild,s)}else{t.innerHTML=y.value}t.className=u;t.result={language:v,kw:y.keyword_count,re:y.r};if(y.second_best){t.second_best={language:y.second_best.language,kw:y.second_best.keyword_count,re:y.second_best.r}}}function o(){if(o.called){return}o.called=true;var r=document.getElementsByTagName("pre");for(var p=0;p<r.length;p++){var q=b(r[p]);if(q){n(q,hljs.tabReplace)}}}function l(){if(window.addEventListener){window.addEventListener("DOMContentLoaded",o,false);window.addEventListener("load",o,false)}else{if(window.attachEvent){window.attachEvent("onload",o)}else{window.onload=o}}}var e={};this.LANGUAGES=e;this.highlight=d;this.highlightAuto=g;this.fixMarkup=i;this.highlightBlock=n;this.initHighlighting=o;this.initHighlightingOnLoad=l;this.IR="[a-zA-Z][a-zA-Z0-9_]*";this.UIR="[a-zA-Z_][a-zA-Z0-9_]*";this.NR="\\b\\d+(\\.\\d+)?";this.CNR="\\b(0[xX][a-fA-F0-9]+|(\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)";this.BNR="\\b(0b[01]+)";this.RSR="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|\\.|-|-=|/|/=|:|;|<|<<|<<=|<=|=|==|===|>|>=|>>|>>=|>>>|>>>=|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~";this.ER="(?![\\s\\S])";this.BE={b:"\\\\.",r:0};this.ASM={cN:"string",b:"'",e:"'",i:"\\n",c:[this.BE],r:0};this.QSM={cN:"string",b:'"',e:'"',i:"\\n",c:[this.BE],r:0};this.CLCM={cN:"comment",b:"//",e:"$"};this.CBLCLM={cN:"comment",b:"/\\*",e:"\\*/"};this.HCM={cN:"comment",b:"#",e:"$"};this.NM={cN:"number",b:this.NR,r:0};this.CNM={cN:"number",b:this.CNR,r:0};this.BNM={cN:"number",b:this.BNR,r:0};this.inherit=function(r,s){var p={};for(var q in r){p[q]=r[q]}if(s){for(var q in s){p[q]=s[q]}}return p}}();hljs.LANGUAGES.cpp=function(){var a={keyword:{"false":1,"int":1,"float":1,"while":1,"private":1,"char":1,"catch":1,"export":1,virtual:1,operator:2,sizeof:2,dynamic_cast:2,typedef:2,const_cast:2,"const":1,struct:1,"for":1,static_cast:2,union:1,namespace:1,unsigned:1,"long":1,"throw":1,"volatile":2,"static":1,"protected":1,bool:1,template:1,mutable:1,"if":1,"public":1,friend:2,"do":1,"return":1,"goto":1,auto:1,"void":2,"enum":1,"else":1,"break":1,"new":1,extern:1,using:1,"true":1,"class":1,asm:1,"case":1,typeid:1,"short":1,reinterpret_cast:2,"default":1,"double":1,register:1,explicit:1,signed:1,typename:1,"try":1,"this":1,"switch":1,"continue":1,wchar_t:1,inline:1,"delete":1,alignof:1,char16_t:1,char32_t:1,constexpr:1,decltype:1,noexcept:1,nullptr:1,static_assert:1,thread_local:1,restrict:1,_Bool:1,complex:1},built_in:{std:1,string:1,cin:1,cout:1,cerr:1,clog:1,stringstream:1,istringstream:1,ostringstream:1,auto_ptr:1,deque:1,list:1,queue:1,stack:1,vector:1,map:1,set:1,bitset:1,multiset:1,multimap:1,unordered_set:1,unordered_map:1,unordered_multiset:1,unordered_multimap:1,array:1,shared_ptr:1}};return{dM:{k:a,i:"</",c:[hljs.CLCM,hljs.CBLCLM,hljs.QSM,{cN:"string",b:"'\\\\?.",e:"'",i:"."},{cN:"number",b:"\\b(\\d+(\\.\\d*)?|\\.\\d+)(u|U|l|L|ul|UL|f|F)"},hljs.CNM,{cN:"preprocessor",b:"#",e:"$"},{cN:"stl_container",b:"\\b(deque|list|queue|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array)\\s*<",e:">",k:a,r:10,c:["self"]}]}}}();hljs.LANGUAGES.r={dM:{c:[hljs.HCM,{cN:"number",b:"\\b0[xX][0-9a-fA-F]+[Li]?\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"number",b:"\\b\\d+(?:[eE][+\\-]?\\d*)?L\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"number",b:"\\b\\d+\\.(?!\\d)(?:i\\b)?",e:hljs.IMMEDIATE_RE,r:1},{cN:"number",b:"\\b\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d*)?i?\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"number",b:"\\.\\d+(?:[eE][+\\-]?\\d*)?i?\\b",e:hljs.IMMEDIATE_RE,r:1},{cN:"keyword",b:"(?:tryCatch|library|setGeneric|setGroupGeneric)\\b",e:hljs.IMMEDIATE_RE,r:10},{cN:"keyword",b:"\\.\\.\\.",e:hljs.IMMEDIATE_RE,r:10},{cN:"keyword",b:"\\.\\.\\d+(?![\\w.])",e:hljs.IMMEDIATE_RE,r:10},{cN:"keyword",b:"\\b(?:function)",e:hljs.IMMEDIATE_RE,r:2},{cN:"keyword",b:"(?:if|in|break|next|repeat|else|for|return|switch|while|try|stop|warning|require|attach|detach|source|setMethod|setClass)\\b",e:hljs.IMMEDIATE_RE,r:1},{cN:"literal",b:"(?:NA|NA_integer_|NA_real_|NA_character_|NA_complex_)\\b",e:hljs.IMMEDIATE_RE,r:10},{cN:"literal",b:"(?:NULL|TRUE|FALSE|T|F|Inf|NaN)\\b",e:hljs.IMMEDIATE_RE,r:1},{cN:"identifier",b:"[a-zA-Z.][a-zA-Z0-9._]*\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"operator",b:"<\\-(?!\\s*\\d)",e:hljs.IMMEDIATE_RE,r:2},{cN:"operator",b:"\\->|<\\-",e:hljs.IMMEDIATE_RE,r:1},{cN:"operator",b:"%%|~",e:hljs.IMMEDIATE_RE},{cN:"operator",b:">=|<=|==|!=|\\|\\||&&|=|\\+|\\-|\\*|/|\\^|>|<|!|&|\\||\\$|:",e:hljs.IMMEDIATE_RE,r:0},{cN:"operator",b:"%",e:"%",i:"\\n",r:1},{cN:"identifier",b:"`",e:"`",r:0},{cN:"string",b:'"',e:'"',c:[hljs.BE],r:0},{cN:"string",b:"'",e:"'",c:[hljs.BE],r:0},{cN:"paren",b:"[[({\\])}]",e:hljs.IMMEDIATE_RE,r:0}]}};
hljs.initHighlightingOnLoad();
</script>




</head>

<body>
<!-- rmarkdown v1 -->

<h1>Exploring Overlap</h1>

<p>This report looks explores the overlap of genes between basins</p>

<!--  Set the working directory to the repository's base directory; this assumes the report is nested inside of two directories.-->

<!-- Set the report-wide options, and point to the external code file. -->

<!-- Load the packages.  Suppress the output when loading packages. --> 

<pre><code class="r">requireNamespace(&quot;dplyr&quot;)
requireNamespace(&quot;plyr&quot;)
requireNamespace(&quot;scales&quot;) #For formating values in graphs
requireNamespace(&quot;RColorBrewer&quot;)
requireNamespace(&quot;grid&quot;) #For graphing
requireNamespace(&quot;gplots&quot;) #For graphing
library(ggplot2) #For graphing
library(magrittr)
# library(mgcv, quietly=TRUE) #For the Generalized Additive Model that smooths the longitudinal graphs.
#####################################
</code></pre>

<!-- Load any Global functions and variables declared in the R file.  Suppress the output. --> 

<pre><code class="r">options(show.signif.stars=F) #Turn off the annotations on p-values

pathInputLong &lt;- &quot;./Data/Derived/Unpacked.csv&quot;
# pathInputWide &lt;- &quot;./Data/Derived/AllBasinsWide.csv&quot;

basinOrder &lt;- c(&quot;Illinois&quot;, &quot;CookInlet&quot;, &quot;Powder&quot;)
geochipBasinVersion &lt;- c(&quot;CookInlet&quot;=3.2,  &quot;Illinois&quot;=4.0, &quot;Powder&quot;=4.0)

ReportTheme &lt;- theme_bw() +
  theme(axis.ticks.length = grid::unit(0, &quot;cm&quot;)) +
  theme(axis.text = element_text(color=&quot;gray40&quot;)) +
  theme(axis.title = element_text(color=&quot;gray40&quot;)) +
  theme(panel.border = element_rect(color=&quot;gray80&quot;)) +
  theme(axis.ticks = element_line(color=&quot;gray80&quot;)) +
  theme(strip.background=element_rect(color=NA, fill=&quot;gray95&quot;))

#####################################
</code></pre>

<!-- Declare any global functions specific to a Rmd output.  Suppress the output. --> 

<!-- Load the datasets.   -->

<pre><code class="r"># &#39;ds&#39; stands for &#39;datasets&#39;
dsLong &lt;- read.csv(pathInputLong, stringsAsFactors=FALSE)

# sapply(dsLong, class)

#####################################
</code></pre>

<!-- Tweak the datasets.   -->

<pre><code class="r"># a &lt;- as.integer(dsLong$GenbankID)
# dsLong$GenbankID[is.na(a)]
# dsLong$GenbankID &lt;- as.integer(dsLong$GenbankID)

dsLong$GeochipVersion &lt;- as.numeric(plyr::revalue(dsLong$Basin, replace=geochipBasinVersion))

#Reorder the substrates and basins.  The default alphabetical order isn&#39;t the most intuitive
dsLong$Basin &lt;- factor(dsLong$Basin, levels=basinOrder)

dsLongV32 &lt;- dsLong[dsLong$GeochipVersion==3.2, ]
dsLongV40 &lt;- dsLong[dsLong$GeochipVersion==4.0, ]

dsLong$IsV32 &lt;- (dsLong$GeochipVersion==3.2)

dsLongBasinUnique &lt;- dsLong %&gt;%
  dplyr::group_by(GenbankID, GeneCategory, Basin) %&gt;%
  dplyr::summarize(
    PositiveProbeCount = n()
  )

table(dsLong$Basin)
</code></pre>

<pre><code>
 Illinois CookInlet    Powder 
   382800     18991     85032 
</code></pre>

<pre><code class="r">vennList &lt;- list(
  &quot;Illinois\n(4.0)&quot; = dsLongBasinUnique[dsLongBasinUnique$Basin==&quot;Illinois&quot;, ]$GenbankID,
  &quot;Cook Inlet\n(3.2)&quot; = dsLongBasinUnique[dsLongBasinUnique$Basin==&quot;CookInlet&quot;, ]$GenbankID,
  &quot;Powder\n(4.0)&quot; = dsLongBasinUnique[dsLongBasinUnique$Basin==&quot;Powder&quot;, ]$GenbankID
)
# dsLong$Basin
#####################################
</code></pre>

<h1>Calculate Overlap</h1>

<pre><code class="r">dsLong %&gt;%
  dplyr::group_by(GeochipVersion) %&gt;%
  dplyr::summarize(
    Count = n()
  )
</code></pre>

<pre><code>Source: local data frame [2 x 2]

  GeochipVersion  Count
1            3.2  18991
2            4.0 467832
</code></pre>

<pre><code class="r">setdiff(x=1:9, y=c(1,4,5))
</code></pre>

<pre><code>[1] 2 3 6 7 8 9
</code></pre>

<pre><code class="r">intersect(x=1:9, y=c(0,1,4,5))
</code></pre>

<pre><code>[1] 1 4 5
</code></pre>

<pre><code class="r">commonGenbankIDs &lt;- intersect(dsLongV32$GenbankID, dsLongV40$GenbankID)
length(commonGenbankIDs)
</code></pre>

<pre><code>[1] 3566
</code></pre>

<pre><code class="r">print(
  dsLong %&gt;%
    dplyr::group_by(GeneCategory, GeochipVersion) %&gt;%
    dplyr::summarize(
      Count = n()
    )
  , n=40
)
</code></pre>

<pre><code>Source: local data frame [27 x 3]
Groups: GeneCategory

            GeneCategory GeochipVersion  Count
1  Antibiotic resistance            3.2   1038
2  Antibiotic resistance            4.0  17479
3         Bacteria phage            4.0   2862
4            Bioleaching            4.0   2952
5         Carbon cycling            3.2   2814
6         Carbon cycling            4.0  60046
7         Energy process            3.2    365
8         Energy process            4.0   5318
9       Metal Resistance            3.2   3735
10      Metal Resistance            4.0  57384
11    Methane Production            3.2     47
12    Methane Production            4.0   1203
13               Missing            3.2    293
14              Nitrogen            3.2   2118
15              Nitrogen            4.0  40909
16   Organic Remediation            3.2   6737
17   Organic Remediation            4.0 120595
18            Phosphorus            3.2    432
19            Phosphorus            4.0   7560
20                Stress            4.0 105907
21     Sulfate Reduction            3.2    794
22     Sulfate Reduction            4.0  13223
23      Sulfur Oxidation            3.2    186
24      Sulfur Oxidation            4.0   3191
25        other category            3.2    432
26        other category            4.0  10360
27             virulence            4.0  18843
</code></pre>

<pre><code class="r">dsLong %&gt;%
  dplyr::group_by(GeneCategory) %&gt;%
  dplyr::summarize(
    CountTotal = scales::comma(length(IsV32)),
    CountV32 = scales::comma(sum(IsV32)),
    CountV40 = scales::comma(sum(!IsV32))
  )
</code></pre>

<pre><code>Source: local data frame [16 x 4]

            GeneCategory CountTotal CountV32 CountV40
1  Antibiotic resistance     18,517    1,038   17,479
2         Bacteria phage      2,862        0    2,862
3            Bioleaching      2,952        0    2,952
4         Carbon cycling     62,860    2,814   60,046
5         Energy process      5,683      365    5,318
6       Metal Resistance     61,119    3,735   57,384
7     Methane Production      1,250       47    1,203
8                Missing        293      293        0
9               Nitrogen     43,027    2,118   40,909
10   Organic Remediation    127,332    6,737  120,595
11            Phosphorus      7,992      432    7,560
12                Stress    105,907        0  105,907
13     Sulfate Reduction     14,017      794   13,223
14      Sulfur Oxidation      3,377      186    3,191
15        other category     10,792      432   10,360
16             virulence     18,843        0   18,843
</code></pre>

<pre><code class="r">dsLongBasinProbeCount &lt;- dsLongBasinUnique %&gt;%
  dplyr::group_by(GeneCategory) %&gt;%
  dplyr::summarize(
    Total = scales::comma(length(Basin)),
    Illinois = scales::comma(sum(Basin==&quot;Illinois&quot;)),
    CookInlet = scales::comma(sum(Basin==&quot;CookInlet&quot;)),
    Powder = scales::comma(sum(Basin==&quot;Powder&quot;))
  )
dsLongBasinProbeCount
</code></pre>

<pre><code>Source: local data frame [16 x 5]

            GeneCategory  Total Illinois CookInlet Powder
1  Antibiotic resistance  2,117      945       346    826
2         Bacteria phage    314      146         0    168
3            Bioleaching    309      156         0    153
4         Carbon cycling  6,943    3,266       913  2,764
5         Energy process    645      290       113    242
6       Metal Resistance  6,946    3,128     1,202  2,616
7     Methane Production    130       69        19     42
8                Missing     96        0        96      0
9               Nitrogen  4,842    2,219       717  1,906
10   Organic Remediation 13,966    6,665     2,146  5,155
11            Phosphorus    892      412       135    345
12                Stress 10,689    5,741         0  4,948
13     Sulfate Reduction  1,562      729       261    572
14      Sulfur Oxidation    369      177        58    134
15        other category  1,201      560       151    490
16             virulence  1,914    1,017         0    897
</code></pre>

<pre><code class="r">#####################################
</code></pre>

<h1>Venn Diagrams</h1>

<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAkAAAAJACAMAAABSRCkEAAAAgVBMVEUAAAAAADoAAGYAOmYAOpAAZrY6AAA6ADo6AGY6OgA6OmY6OpA6ZrY6kJA6kLY6kNtmAABmADpmAGZmOgBmOpBmkJBmtv+QOgCQOjqQOmaQZgCQkGaQtpCQ29uQ2/+2ZgC2Zjq225C2/7a2///bkDrb////tmb/25D//7b//9v////hQSSnAAAACXBIWXMAAAsSAAALEgHS3X78AAAXYUlEQVR4nO2diXbbSJJFYY/tclfNjLz0yOqlxJ4WLZn8/w9sJBauQGB5GZkRiXdPnZJFipkvkJcJgMRSHQkBqHIHIL6hQASCAhEICkQgKBCBoEAEggIRCApEICgQgaBABIICEQgKRCAoEIGgQASCAhEICkQgKBCBoEAEggIRCApEICgQgaBABIICEQgKRCAoEIGgQASCAhEICkQgKBCBoEAEggIRCApEICgQgaBABIICEQgKRCAoEIGgQASCAhEICkQgKBCBoEAEggIRCApEICgQgaBABIICEQgKRCAoEIGgQASCAhEICkQgKBCBoEAEggIRCApEICgQgaBABIICEQgKRCAoEIGgQASCAhEICkQgKBCBoEAEggIRCApEICgQgaBABIICEQgKRCAoEIGgQASCAhEICkQgKBCBoEAEggIRCApEICgQgaBABIICEQgKRCAoEIGgQASCAhEICkQgKBCBoEAEggIRCApEICgQgaBABIICEQgKRCAoEIGgQASCAo3x9qmqeRh87vDjMXEas1CgMd4+vxyPv74+Dz1HgU5QoDEagYIpv75U71/CP95+ez6+fvhZ//5f37uHj2+/f6//v2Eo0BiNQMGZ3UPQZv9w3FePx/pH+L3+V/1j/7Fe0W18LqJAY7TbQPVM8+0lrMne/vj5r398PDw9h9/r+Sis3Op/NpptGQo0Rq9G+Nl48+9v///5350yu8d6DVZV754pUO4AZunV6Gag4+7//vvw9I+Px34G+vZy+VebhQKNcVKj3Qaqt3varaCLbaD6YQqUO4BZTmq0u1vtPtj7Zs+s3wt798wZiAIRCApEICgQgaBABIICEQgKNM0+fCXff39a73zV+/Rvf/zMm8kMFGiSVpbmI6DWo/3HTipCgWawC+a8/f69ESh8AB0+++k+iCYUaIpGlcPTn+0qLExH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" alt="plot of chunk PlotVennDiagrams"/> </p>

<h1>Questions</h1>

<h2>Unanswered Questions</h2>

<ol>
<li>- - - </li>
</ol>

<h2>Answered Questions</h2>

<ol>
<li>- - - </li>
</ol>

<h1>Session Information</h1>

<p>For the sake of documentation and reproducibility, the current report was build on a system using the following software.</p>

<pre><code>Report created by Will at 2015-07-03, 14:45 -0500
</code></pre>

<pre><code>R version 3.2.1 Patched (2015-06-18 r68542)
Platform: x86_64-w64-mingw32/x64 (64-bit)
Running under: Windows 8 x64 (build 9200)

locale:
[1] LC_COLLATE=English_United States.1252  LC_CTYPE=English_United States.1252    LC_MONETARY=English_United States.1252
[4] LC_NUMERIC=C                           LC_TIME=English_United States.1252    

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

other attached packages:
[1] magrittr_1.5  ggplot2_1.0.1 knitr_1.10.5 

loaded via a namespace (and not attached):
 [1] Rcpp_0.11.6        MASS_7.3-41        munsell_0.4.2      colorspace_1.2-6   R6_2.0.1           stringr_1.0.0     
 [7] plyr_1.8.3         dplyr_0.4.2        caTools_1.17.1     tools_3.2.1        parallel_3.2.1     grid_3.2.1        
[13] gtable_0.1.2       KernSmooth_2.23-14 DBI_0.3.1          gtools_3.5.0       lazyeval_0.1.10    assertthat_0.1    
[19] digest_0.6.8       reshape2_1.4.1     RColorBrewer_1.1-2 formatR_1.2        bitops_1.0-6       evaluate_0.7      
[25] gdata_2.16.1       stringi_0.5-5      gplots_2.17.0      scales_0.2.5       proto_0.3-10      
</code></pre>

</body>

</html>

